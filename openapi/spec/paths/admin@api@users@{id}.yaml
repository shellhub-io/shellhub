parameters:
  - name: id
    schema:
      description: User's ID
      type: string
      example: 507f1f77bcf86cd799439011
    required: true
    in: path
delete:
  operationId: adminDeleteUser
  summary: Delete user
  description: Delete a user.
  tags:
    - admin
    - enterprise
    - users
  security:
    - jwt: []
    - api-key: []
  responses:
    '200':
      $ref: ../components/responses/200.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '500':
      $ref: ../components/responses/500.yaml
put:
  operationId: adminUpdateUser
  summary: Update user
  description: Update a user.
  tags:
    - admin
    - enterprise
    - users
  security:
    - jwt: []
    - api-key: []
  requestBody:
    content:
      application/json:
        schema:
          $ref: ../components/schemas/userAdminRequest.yaml
        examples:
          update_name:
            value:
              name: example_new
              email: example@example.com
              username: example
              password: ''
              confirmed: true
          update_password:
            value:
              name: example
              email: example_new@example.com
              username: example
              password: example_new
              confirmed: true
  responses:
    '200':
      $ref: ../components/responses/200.yaml
    '400':
      $ref: ../components/responses/invalidFields.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '409':
      $ref: ../components/responses/conflictFields.yaml
    '500':
      $ref: ../components/responses/500.yaml
get:
  operationId: getUser
  summary: Get user
  description: Get a user.
  tags:
    - admin
    - enterprise
    - users
  security:
    - jwt: []
    - api-key: []
  responses:
    '200':
      description: Success to get a user.
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                $ref: ../components/schemas/userID.yaml
              status:
                description: User's status
                type: string
                enum: [confirmed, pending]
              max_namespaces:
                description: Maximum number of namespaces the user can own
                type: integer
                minimum: 0
              created_at:
                description: User's creating date
                type: string
                format: date-time
              last_login:
                description: User's last login date
                type: string
                format: date-time
              name:
                $ref: ../components/schemas/userName.yaml
              username:
                $ref: ../components/schemas/userUsername.yaml
              email:
                $ref: ../components/schemas/userEmail.yaml
              recovery_email:
                description: User's recovery email address
                type: string
                format: email
              mfa:
                description: Multi-factor authentication settings
                type: object
                properties:
                  enabled:
                    description: Whether MFA is enabled for the user
                    type: boolean
                required:
                  - enabled
              namespacesOwned:
                description: Number of namespaces owned by the user
                type: integer
                minimum: 0
              preferences:
                description: User preferences
                type: object
                properties:
                  auth_methods:
                    description: Preferred authentication methods
                    type: array
                    items:
                      type: string
                      enum: [local, saml]
                required:
                  - auth_methods
            required:
              - id
              - status
              - max_namespaces
              - created_at
              - last_login
              - name
              - username
              - email
              - mfa
              - namespacesOwned
              - preferences
          examples:
            user_confirmed:
              value:
                id: '68ada99d2f96ee43fd86306a'
                status: 'confirmed'
                max_namespaces: 0
                created_at: '2025-08-26T12:33:33.19Z'
                last_login: '2025-10-27T13:10:59.458Z'
                name: 'dev'
                username: 'dev'
                email: 'dev@dev.com'
                recovery_email: 'banana@banana.com'
                mfa:
                  enabled: false
                namespacesOwned: 1
                preferences:
                  auth_methods:
                    - 'local'
            user_pending:
              value:
                id: '507f1f77bcf86cd799439012'
                status: 'pending'
                max_namespaces: 5
                created_at: '2025-01-15T10:00:00.000Z'
                last_login: '2025-01-20T15:30:00.000Z'
                name: 'testuser'
                username: 'testuser'
                email: 'test@example.com'
                recovery_email: 'recovery@example.com'
                mfa:
                  enabled: true
                namespacesOwned: 2
                preferences:
                  auth_methods:
                    - 'local'
                    - 'saml'
    '401':
      $ref: ../components/responses/401.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '500':
      $ref: ../components/responses/500.yaml
