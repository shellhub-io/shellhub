delete:
  operationId: leaveNamespace
  summary: Leave Namespace
  description: |
    Allows the authenticated user to leave the specified namespace. Owners
    cannot leave a namespace; they must delete it instead. If the user attempts
    to leave their current authenticated namespace, the response will provide a
    new token that excludes this namespace.
  tags:
    - community
    - members
    - namespaces
  security:
    - jwt: []
    - api-key: []
  parameters:
    - $ref: ../components/parameters/path/namespaceTenantIDPath.yaml
  responses:
    '200':
      description: Successfully left the namespace.
      content:
        application/json:
          schema:
            $ref: ../components/schemas/userAuth.yaml
    '400':
      $ref: ../components/responses/400.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '403':
      $ref: ../components/responses/403.yaml
    '500':
      $ref: ../components/responses/500.yaml
post:
  operationId: addNamespaceMember
  summary: Invite member
  description: |
    Invites a member to a namespace.

    In enterprise and community instances, the member will automatically accept
    the invite and will have an `accepted` status.

    In cloud instances, the member will have a `pending` status until they
    accept the invite via an email sent to them. The invite is valid for **7 days**.
    If the member was previously invited and the invite is no longer valid, the same route
    will resend the invite.
  tags:
    - community
    - members
    - namespaces
  security:
    - jwt: []
  parameters:
    - $ref: ../components/parameters/path/namespaceTenantIDPath.yaml
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            email:
              description: The email of the member.
              type: string
              example: john.doe@test.com
            role:
              $ref: ../components/schemas/namespaceMemberRole.yaml
          required:
            - email
            - role
  responses:
    '200':
      description: Success to add a member to a namespace.
      content:
        application/json:
          schema:
            $ref: ../components/schemas/namespace.yaml
    '400':
      $ref: ../components/responses/400.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '403':
      $ref: ../components/responses/403.yaml
    '409':
      $ref: ../components/responses/409.yaml
    '500':
      $ref: ../components/responses/500.yaml
