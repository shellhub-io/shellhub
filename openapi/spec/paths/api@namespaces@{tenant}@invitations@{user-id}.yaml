patch:
  operationId: updateMembershipInvitation
  summary: Update a pending membership invitation
  description: |
    Allows namespace administrators to update a pending membership invitation.
    Currently supports updating the role assigned to the invitation.
    The active user must have authority over the role being assigned.
  tags:
    - cloud
    - members
    - namespaces
  security:
    - jwt: []
  parameters:
    - $ref: ../components/parameters/path/namespaceTenantIDPath.yaml
    - name: user-id
      description: The ID of the invited user
      schema:
        type: string
      required: true
      in: path
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            role:
              $ref: ../components/schemas/namespaceMemberRole.yaml
  responses:
    '200':
      description: Invitation successfully updated
    '400':
      $ref: ../components/responses/400.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '403':
      $ref: ../components/responses/403.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '500':
      $ref: ../components/responses/500.yaml

delete:
  operationId: cancelMembershipInvitation
  summary: Cancel a pending membership invitation
  description: |
    Allows namespace administrators to cancel a pending membership invitation.
    The invitation status will be updated to "cancelled".
    The active user must have authority over the role of the invitation being cancelled.
  tags:
    - cloud
    - members
    - namespaces
  security:
    - jwt: []
  parameters:
    - $ref: ../components/parameters/path/namespaceTenantIDPath.yaml
    - name: user-id
      description: The ID of the invited user
      schema:
        type: string
      required: true
      in: path
  responses:
    '200':
      description: Invitation successfully cancelled
    '400':
      $ref: ../components/responses/400.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '403':
      $ref: ../components/responses/403.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '500':
      $ref: ../components/responses/500.yaml
